"use strict";!function(t){t(document).ready(function(){function e(){return{getConfiguration:function(){},init:function(){},render:function(t){console.log("tableWidget render options: ",t);var e=t.results.hits;l.rows().remove(),l.rows.add(e).draw()}}}var a="ITI5JHZJM9",i="5828bf68d90dbb0251e6ce88aabe2e07",s="diybiosphere",n=instantsearch({appId:a,apiKey:i,indexName:s,urlSync:!0});n.addWidget(instantsearch.widgets.searchBox({container:"#search-box",placeholder:"Search for an entry",cssClasses:{root:"ui icon left input fluid"}})),n.addWidget(instantsearch.widgets.currentRefinedValues({container:"#current-refined-values",autoHideContainer:!0,cssClasses:{root:"ui medium labels"},templates:{item:'\n\t\t\t\t\t<a class="ui grey label">\n\t\t\t\t\t  {{name}}\n\t\t\t\t\t  <i class="delete icon"></i>\n\t\t\t\t\t</a>'}})),n.addWidget(instantsearch.widgets.stats({container:"#stats-container",templates:{body:' <h3 class="ui header">{{nbHits}} matching entries</h3>'}})),n.addWidget(instantsearch.widgets.hits({container:"#hits-container",templates:{empty:'<div class="text-center">No results found matching <strong>{{query}}</strong>.</div>',item:'\n\t\t<div class="ui link relaxed items">\n\t\t\t<div class="item">\n\t\t\t  <div class="ui small image">\n\t\t\t    <img class="ui middle aligned" src="{{ logo }}" alt="logo">\n\t\t\t  </div>\n\t\t\t  <div class="content">\n\t\t\t\t<span class="right floated"><i class="marker icon"></i>{{ city }}, {{#country}} {{ country }} {{/country}}</span>\n\t\t\t    <a href="{{url}}" class="header">{{{ _highlightResult.title.value }}}</a>\n\t\t\t    <div class="meta">\n\t\t\t      <span class="cinema"> {{#collection}} {{collection}} {{/collection}}| {{#type-org}} {{ type-org }} {{/type-org}} </span>\n\t\t\t    </div>\n\t\t\t    <div class="description">\n\t\t\t      <p>{{{ _highlightResult.text.value }}}</p>\n\t\t\t    </div>\n\t\t\t    <div class="extra">\n\t\t\t    <div class="ui tiny label">{{ tags }}</div>\n\t\t\t    </div>\n\t\t\t  </div>\n\t\t\t</div>\n\t\t\t<hr>\n\t\t</div>\n    '},cssClasses:{root:"ui divided items"},hitsPerPage:3})),n.addWidget(instantsearch.widgets.refinementList({container:"#collection",attributeName:"collection",operator:"or",limit:10,cssClasses:{root:"ui secondary inverted vertical menu",item:"link item",active:"active item"},templates:{header:'<h4 class="ui inverted header">Collection</h4>',item:"\n\t\t\t\t\t\t  {{name}} - {{count}}\n\t\t\t\t\t\t"}})),n.addWidget(instantsearch.widgets.refinementList({container:"#type-org",attributeName:"type-org",operator:"or",limit:10,cssClasses:{root:"ui secondary inverted vertical menu",item:"link item",active:"active item"},templates:{header:'<h4 class="ui inverted header">Type of Initiative</h4>',item:"\n\t\t\t\t\t\t{{name}} - {{count}}\n\t\t\t\t\t"}})),n.addWidget(instantsearch.widgets.refinementList({container:"#tags",attributeName:"tags",operator:"or",limit:10,searchForFacetValues:{placeholder:"Search for keywords"},cssClasses:{root:"ui labels",item:"ui label xo paddingfull half",active:"ui grey label xo paddingfull half"},templates:{header:'<h4 class="ui inverted header">Keywords</h4>',item:"{{name}} - {{count}}"}})),n.addWidget(instantsearch.widgets.pagination({container:"#pagination-container",labels:{previous:'<i class="fa fa-angle-left"></i>',next:'<i class="fa fa-angle-right"></i>',first:'<i class="fa fa-double-angle-left"></i>',last:'<i class="fa fa-double-angle-right"></i>'},padding:1,cssClasses:{root:"ui horizontal link list no-bullets",item:"item",active:"active item",disabled:"disabled item"}})),n.addWidget(instantsearch.widgets.hitsPerPageSelector({container:"#hits-per-page-selector",cssClasses:{root:"ui inline dropdown"},options:[{value:5,label:"5 per page"},{value:10,label:"10 per page"},{value:25,label:"25 per page"},{value:50,label:"50 per page"},{value:100,label:"100 per page"}]})),n.addWidget(e()),n.start(),n.on("render",function(){t(".collection-icon").each(function(e,a){var i=t(a),s=i.data("collection");"Lab"===s&&i.addClass("lab"),"Group"===s&&i.addClass("users"),"Event"===s&&i.addClass("ticket"),"Other"===s&&i.addClass("umbrella"),"Project"===s&&i.addClass("travel"),"Network"===s&&i.addClass("share alternate"),"Startup"===s&&i.addClass("rocket"),"Incubator"===s&&i.addClass("leaf")})});var l=t("#library-table").DataTable({paging:!1,ordering:!0,dom:'<"top"i<"pull-right"B>>rt<"bottom"ip<"clear">>',buttons:[{extend:"csvHtml5",text:'<i class="fa fa-download"></i> Download as CSV',titleAttr:"CSV",className:"link selectable text-dark"}],columnDefs:[{visible:!0,targets:0,name:"collection",data:"collection"},{visible:!0,targets:1,name:"title",data:"title",render:function(t,e,a){return'<a class="link selectable" href="'+a.url+'">'+t+"</a>"}},{visible:!0,targets:2,name:"start-date",data:"start-date"},{visible:!0,targets:3,name:"host-org",data:"host-org",render:function(t){var e="",a="",i="";return null!==t?(e=t.name||"",null!==t.web&&(a='\n                  <a class="link selectable" href="'+t.web+'">\n                    <i class="fa fa-link"></i>\n                  </a>\n                '),null!==t.sphere&&(i='\n                  <a class="link selectable" href="'+t.sphere+'">\n                    <i class="fa fa-external-link"></i>\n                  </a>\n                '),e+" "+a+" "+i):""}},{visible:!0,targets:4,name:"type-org",data:"type-org"},{visible:!0,targets:5,name:"city",data:"city"},{visible:!0,targets:6,name:"country",data:"country"},{visible:!0,targets:7,name:"lastest-commit",data:"last_modified"},{visible:!0,targets:8,name:"tags",data:"tags",render:function(t){return""+t.join(",")}}],language:{thousands:",",zeroRecords:"Nothing found - sorry",info:"Showing _TOTAL_ entries",infoEmpty:"Showing _TOTAL_ entries",infoFiltered:"from _MAX_ total"}});t("#entries tfoot td").each(function(){var e=t(this),a=e.text(),i=a.toLowerCase();e.html('<input id="'+i+'" type="text" placeholder="Search '+a+'" />')}),l.columns().every(function(){var e=this;t("input",this.footer()).on("keyup change",function(){e.search()!==this.value&&e.search(this.value).draw()})})})}($);